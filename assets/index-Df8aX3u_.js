import{_ as T,H as v,F as M}from"./footer-DgKZHoh7.js";import{i as k,c,o as b,a as S,b as l,d as m,e as s,t as i,u as e,w as u,n as p,f as R,g,r as C,p as _,h,F as P}from"./index-CjoZJptU.js";const I={class:"pomodoro-timer"},N=["disabled"],O=["disabled"],x=["disabled"],y={__name:"pomodoroTimer",setup(a){const o=k("usePomodoroStore"),r=k("useLocaleStore"),f=c(()=>String(Math.floor(o.time/60)).padStart(2,"0")),B=c(()=>String(o.time%60).padStart(2,"0"));return b(()=>{o.init()}),S(()=>{o.pauseTimer()}),($,t)=>(l(),m("main",null,[s("div",I,[s("h2",null,i(e(r).translate("pomodoro.title")),1),u([e(o).pomodoro,e(o).longBreak,e(o).shortBreak,e(r).locale],()=>(l(),m("div",{class:"modes"},[s("button",{class:p({active:e(o).pomodoro}),disabled:e(o).isRunning,onClick:t[0]||(t[0]=n=>e(o).setMode("pomodoro"))},i(e(r).translate("pomodoro.modes.pomodoro")),11,N),s("button",{class:p({active:e(o).longBreak}),disabled:e(o).isRunning,onClick:t[1]||(t[1]=n=>e(o).setMode("longBreak"))},i(e(r).translate("pomodoro.modes.longBreak")),11,O),s("button",{class:p({active:e(o).shortBreak}),disabled:e(o).isRunning,onClick:t[2]||(t[2]=n=>e(o).setMode("shortBreak"))},i(e(r).translate("pomodoro.modes.shortBreak")),11,x)])),t,3),u([e(o).time],()=>(l(),m("div",{class:"timer"},[R(i(f.value)+":"+i(B.value),1)])),t,4),u([e(o).isRunning,e(r).locale],()=>(l(),m("div",{class:"controls"},[e(o).isRunning?g("",!0):(l(),m("button",{key:0,class:"start-timer",onClick:t[5]||(t[5]=(...n)=>e(o).startTimer&&e(o).startTimer(...n))},i(e(r).translate("pomodoro.controls.startTimer")),1)),e(o).isRunning?(l(),m("button",{key:1,class:"pause-timer",onClick:t[6]||(t[6]=(...n)=>e(o).pauseTimer&&e(o).pauseTimer(...n))},i(e(r).translate("pomodoro.controls.pauseTimer")),1)):g("",!0),s("button",{class:"reset-timer",onClick:t[7]||(t[7]=(...n)=>e(o).resetTimer&&e(o).resetTimer(...n))},i(e(r).translate("pomodoro.controls.resetTimer")),1)])),t,8)]),t[10]||(t[10]=s("div",{class:"separator"},null,-1)),s("code",null,[s("pre",null,i(e(o)),1)]),s("ul",null,[s("li",null,[s("a",{href:"#",onClick:t[9]||(t[9]=(...n)=>e(o).reset&&e(o).reset(...n))},i(e(r).translate("pomodoro.reset")),1)])]),t[11]||(t[11]=s("div",{class:"separator"},null,-1))]))}},F=T(y,[["__scopeId","data-v-55f0c53e"]]),d="user-pomodoro",V=()=>C({isRunning:!1,isPaused:!0,pomodoro:!0,shortBreak:!1,longBreak:!1,time:0,timer:0,init(){const a=JSON.parse(localStorage.getItem(d));a?(this.pomodoro=a.pomodoro,this.shortBreak=a.shortBreak,this.longBreak=a.longBreak,this.time=a.time,this.timer=a.timer):(this.setMode("pauseTimer"),this.setMode("pomodoro"))},reset(){localStorage.removeItem(d),this.setMode("pauseTimer"),this.setMode("pomodoro")},startTimer(){this.setMode("startTimer")},pauseTimer(){this.setMode("pauseTimer")},resetTimer(){this.setMode("resetTimer")},setTimer(){this.timer=setInterval(()=>{this.time>0?(this.time--,localStorage.setItem(d,JSON.stringify(this))):(this.setMode("resetTimer"),alert("session complete!"))},1e3)},setMode(a){switch(a){case"startTimer":this.isRunning=!0,this.isPaused=!1,this.setTimer();break;case"pauseTimer":this.isRunning=!1,this.isPaused=!0,clearInterval(this.timer);break;case"resetTimer":this.setMode("pauseTimer"),this.shortBreak?this.setMode("shortBreak"):this.longBreak?this.setMode("longBreak"):this.setMode("pomodoro");break;case"shortBreak":this.pomodoro=!1,this.longBreak=!1,this.shortBreak=!0,this.time=5*60;break;case"longBreak":this.pomodoro=!1,this.longBreak=!0,this.shortBreak=!1,this.time=15*60;break;default:this.pomodoro=!0,this.longBreak=!1,this.shortBreak=!1,this.time=25*60;break}localStorage.setItem(d,JSON.stringify(this))}}),D={__name:"index",setup(a){return _("usePomodoroStore",V()),(o,r)=>(l(),m(P,null,[h(v),h(F),h(M)],64))}};export{D as default};
